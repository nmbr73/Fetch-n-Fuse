{"Shader":{"ver":"0.1","info":{"id":"wlGGRm","date":"1578509036","viewed":467,"name":"Quantum Rain","username":"wyatt","description":"[url]JAVASCRIPT: H=location.host;E=(H?window:opener).Effect;P=E.prototype;if(!E.P)E.P=P.Paint;P.Paint=function(...A){for(i=0;i<8;i++)E.P.apply(this,A);};if(!H)close();[\/url]","likes":21,"published":3,"flags":32,"usePreview":0,"tags":["schrodinger"],"hasliked":0},"renderpass":[{"inputs":[{"id":26,"src":"\/media\/a\/94284d43be78f00eb6b298e6d78656a1b34e2b91b34940d02f1ca8b22310e8a0.png","ctype":"cubemap","channel":2,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":257,"src":"\/media\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":37,"channel":0}],"code":"Main\n{\n    Them;\n    vec3 no = normalize(vec3(\n    \tlength(e)-length(w),\n    \tlength(n)-length(s), 5\n    )), re = reflect(no,vec3(0,0,1));\n\tQ = (0.5+0.5*texture(iChannel2,re))*\n        (sin(atan(length(A(U)))*vec4(1,2,3,4)));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":260,"src":"\/media\/previz\/buffer03.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":257,"channel":0}],"code":"Main\n{\n\tQ = A(U);\n    Them;\n    \n    Q.xz += dt*(m-Q+Q*F(Q)).yw;\n    \n    Mouse;\n    Init;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":257,"src":"\/media\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":258,"channel":0}],"code":"Main\n{\n\tQ = A(U);\n    Them;\n    \n    Q.yw -= dt*(m-Q+Q*F(Q)).xz;\n    Q += Loss*(m-Q);\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)\/R)\n#define B(U) texture(iChannel1,(U)\/R)\n#define C(U) texture(iChannel2,(U)\/R)\n#define D(U) texture(iChannel3,(U)\/R)\n\n#define Main void mainImage( out vec4 Q, in vec2 U )\n#define Them vec4 n = A(U+vec2(0,1)), e = A(U+vec2(1,0)), s = A(U-vec2(0,1)), w = A(U-vec2(1,0)), m = 0.25*(n+e+s+w);\n#define dt 1.\n#define F(Q) .5*( 1.\/(1.+length(Q)+dot(Q,Q)) + 1e-3*(U.y)*(iMouse.z>0.?0.:1.))\n#define Loss .00\n#define Init if (length(U-0.5*R) < 10.) Q = vec4(1,1,1,-1);\n#define Mouse if (iMouse.z>0.&&length(U-iMouse.xy)<20.) Q += .03*vec4(1,0,0,-1);","name":"Common","description":"","type":"common"},{"inputs":[{"id":258,"src":"\/media\/previz\/buffer01.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":259,"channel":0}],"code":"Main\n{\n\tQ = A(U);\n    Them;\n    \n    Q.xz += dt*(m-Q+Q*F(Q)).yw;\n    \n    Mouse;\n    Init;\n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":259,"src":"\/media\/previz\/buffer02.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":260,"channel":0}],"code":"Main\n{\n\tQ = A(U);\n    Them;\n    \n    Q.yw -= dt*(m-Q+Q*F(Q)).xz;\n    Q += Loss*(m-Q);\n}","name":"Buffer D","description":"","type":"buffer"}]}}