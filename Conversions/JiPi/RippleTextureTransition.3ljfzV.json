{"Shader":{"ver":"0.1","info":{"id":"3ljfzV","date":"1599382255","viewed":589,"name":"Ripple Texture Transition","username":"tb","description":"This attempts to replicate the transition seen in Oddworld - Abe's Oddysee here:\nhttps:\/\/www.youtube.com\/watch?v=SYL6nxUkuOo&feature=youtu.be&t=68","likes":16,"published":3,"flags":0,"usePreview":0,"tags":["transition","ripple"],"hasliked":0},"renderpass":[{"inputs":[{"id":3,"src":"\/media\/a\/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":8,"src":"\/media\/a\/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":37,"channel":0}],"code":"\/*\nThis attempts to replicate the transition seen in Oddworld - Abe's Oddysee here:\nhttps:\/\/www.youtube.com\/watch?v=SYL6nxUkuOo&feature=youtu.be&t=68\n*\/\n\n\/\/ Tweakable parameters\n\/\/ I'm not sure they are well named for what they do.\n\/\/ I'd like it if period was calculated from the others such that the effect always loops cleanly.\nfloat freq = 8.0;\nfloat period = 8.0;\nfloat speed = 2.0;\nfloat fade = 4.0;\nfloat displacement = 0.2;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 R = iResolution.xy,\n         U = ((2. * fragCoord.xy) - R) \/ min(R.x, R.y),\n         T = fragCoord \/ R.y;\n    float D = length(U);\n\n    float frame_time = mod(iTime * speed, period);\n    float pixel_time = max(0.0, frame_time - D);\n\n    float wave_height = (cos(pixel_time * freq) + 1.0) \/ 2.0;\n    float wave_scale = (1.0 - min(1.0, pixel_time \/ fade));\n    float frac = wave_height * wave_scale;\n    if (mod(iTime * speed, period * 2.0) > period)\n    {\n        frac = 1. - frac;\n    }\n\n    vec2 tc = T + ((U \/ D) * -((sin(pixel_time * freq) \/ fade) * wave_scale) * displacement);\n    \n    fragColor = mix(\n        texture(iChannel0, tc),\n        texture(iChannel1, tc),\n        frac);\n}","name":"Image","description":"","type":"image"}]}}