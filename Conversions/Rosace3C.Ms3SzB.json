{"Shader":{"ver":"0.1","info":{"id":"Ms3SzB","date":"1459963197","viewed":2816,"name":"rosace 3c","username":"FabriceNeyret2","description":"variant of https:\/\/www.shadertoy.com\/view\/ls3XWM\n\n(scroll with mouse)","likes":153,"published":3,"flags":0,"usePreview":0,"tags":["pseudo3d","short","rosace"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"id":37,"channel":0}],"code":"\/\/ inspired from Shane's ribbon variant of https:\/\/www.shadertoy.com\/view\/ls3XWM \n\n\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    float h = iResolution.y;  U = 4.*(U+iMouse.xy)\/h;                    \/\/ normalized coordinates\n    vec2 K = ceil(U); U = 2.*fract(U)-1.;  \/\/ or K = 1.+2.*floor(U) to avoid non-fractionals\n    float a = atan(U.y,U.x), r=length(U), v=0., A;                       \/\/ polar coordinates\n    \n    for(int i=0; i<7; i++)\n        \/\/ if fractional, there is K.y turns to close the loop via K.x wings.\n        v = max(v,   ( 1. + .8* cos(A= K.x\/K.y*a + iTime) ) \/ 1.8  \/\/ 1+cos(A) = depth-shading\n                   * smoothstep(1., 1.-120.\/h, 8.*abs(r-.2*sin(A)-.5))), \/\/ ribbon (antialiased)\n        a += 6.28;                                                       \/\/ next turn\n\n \n    O = v*vec4(.8,1,.3,1); O.g = sqrt(O.g);                              \/\/ greenify\n  \/\/O = v*(.5+.5*sin(K.x+17.*K.y+iDate.w+vec4(0,2.1,-2.1,0)));           \/\/ random colors\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\/**  \/\/ 318\n#define d  O = max(O,O-O+(1.+.8*cos(A= K.x\/K.y*a + iTime))\/1.8 * smoothstep(1., 1.-120.\/R, 8.*abs(r-.2*sin(A)-.5))); a += 6.28;\n\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    float R = iResolution.y;\n    U = 4.*(U+iMouse.xy)\/R;\n    vec2 K = ceil(U); U = 2.*fract(U)-1.;  \/\/ or K = 1.+2.*floor(U) to avoid non-fractionals\n    float a = atan(U.y,U.x), r=length(U), A;\n    \n\tO -= O;  \n    d d d d d d d\n        \n    O *= vec4(.8,1,.3,1); O.g = sqrt(O.g);  \n}\n\/**\/","name":"Image","description":"","type":"image"}]}}