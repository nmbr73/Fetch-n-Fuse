{"Shader":{"ver":"0.1","info":{"id":"tstXz4","date":"1571607400","viewed":485,"name":"Schrodinger's Smoke","username":"wyatt","description":"Copied from Michael, who actually understood the paper : [url]https:\/\/www.shadertoy.com\/view\/tdcXzN[\/url]\nPaper : [url]http:\/\/page.math.tu-berlin.de\/~chern\/projects\/PhDThesis\/thesis_reduced.pdf[\/url]\n","likes":7,"published":3,"flags":32,"usePreview":0,"tags":["asdf"],"hasliked":0},"renderpass":[{"inputs":[{"id":257,"src":"\/media\/previz\/buffer00.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":260,"src":"\/media\/previz\/buffer03.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":37,"channel":0}],"code":"void mainImage( out vec4 Q, in vec2 U )\n{\n    Q = A(U).yzwx;\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)\/R)\n#define B(U) texture(iChannel1,(U)\/R)\n#define C(U) texture(iChannel2,(U)\/R)\n\n#define dt .66\n#define W dt*(m-Q+Q*d.x)\n\n#define D(a,b) atan(a.x*b.y-a.y*b.x,a.x*b.x+a.y*b.y)","name":"Common","description":"","type":"common"},{"inputs":[{"id":258,"src":"\/media\/previz\/buffer01.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":259,"src":"\/media\/previz\/buffer02.png","ctype":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":260,"src":"\/media\/previz\/buffer03.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":257,"channel":0}],"code":"void mainImage( out vec4 Q, in vec2 U )\n{\n    Q = A(U);\n    vec4 \n        d = B(U),\n        n = A(U+vec2(0,1)),\n        e = A(U+vec2(1,0)),\n        s = A(U-vec2(0,1)),\n        w = A(U-vec2(1,0)),\n        a = A(U+vec2(1,1)),\n        b = A(U+vec2(1,-1)),\n        c = A(U-vec2(1,1)),\n        f = A(U-vec2(1,-1)),\n        m = 1.\/6.*(n+e+s+w+.5*(a+b+c+f));\n    Q.xz += (W).yw;\n    vec2 p = .6*U*mat2(cos(iTime),-sin(iTime),sin(iTime),cos(iTime));\n    if (iFrame < 1) Q = vec4(0,.5,0,.5);\n    if ((iFrame<1&&length(U-0.5*R)<40.)||(iMouse.z>0.&&length(U-iMouse.xy)<30.)) \n        Q=vec4(sin(p.x),cos(p.x),cos(p.x),-sin(p.x));\n\t\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":257,"src":"\/media\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":259,"src":"\/media\/previz\/buffer02.png","ctype":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":260,"src":"\/media\/previz\/buffer03.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":258,"channel":0}],"code":"void mainImage( out vec4 Q, in vec2 U )\n{\n    Q = A(U);\n    vec4 \n        d = B(U),\n        n = A(U+vec2(0,1)),\n        e = A(U+vec2(1,0)),\n        s = A(U-vec2(0,1)),\n        w = A(U-vec2(1,0)),\n        a = A(U+vec2(1,1)),\n        b = A(U+vec2(1,-1)),\n        c = A(U-vec2(1,1)),\n        f = A(U-vec2(1,-1)),\n        m = 1.\/6.*(n+e+s+w+.5*(a+b+c+f));\n    Q.yw -= (W).xz;\n    vec2 p = .6*U*mat2(cos(iTime),-sin(iTime),sin(iTime),cos(iTime));\n    if (length(Q)<1e-4||iFrame < 1) Q = vec4(0,.5,0,.5);\n    if ((iFrame<1&&length(U-0.5*R)<40.)||(iMouse.z>0.&&length(U-iMouse.xy)<30.)) \n        Q=vec4(sin(p.x),cos(p.x),cos(p.x),-sin(p.x));\n\t\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":258,"src":"\/media\/previz\/buffer01.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":259,"channel":0}],"code":"void mainImage( out vec4 Q, in vec2 U )\n{\n    vec4 \n        a = A(U),\n        n = A(U+vec2(0,1)),\n        e = A(U+vec2(1,0)),\n        s = A(U-vec2(0,1)),\n        w = A(U-vec2(1,0));\n    float xy = dot(a.xy,a.xy), zw = dot(a.zw,a.zw);\n    Q = 0.25*vec4 (\n    \tD (e.xy,w.xy),\n        D (n.xy,s.xy),\n    \tD (e.zw,w.zw),\n        D (n.zw,s.zw)\n    );\n    Q.xy = (Q.zw*zw+Q.xy*xy)\/(xy+zw);\n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":259,"src":"\/media\/previz\/buffer02.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":260,"src":"\/media\/previz\/buffer03.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":260,"channel":0}],"code":"vec4 b (vec2 U) {return B(U-A(U).xy);}\nvoid mainImage( out vec4 Q, in vec2 U )\n{\n    Q.x = 0.25*(b(U+vec2(0,1))+b(U+vec2(1,0))+b(U-vec2(0,1))+b(U-vec2(1,0))).x;\n    vec4 \n        a = A(U),\n        n = A(U+vec2(0,1)),\n        e = A(U+vec2(1,0)),\n        s = A(U-vec2(0,1)),\n        w = A(U-vec2(1,0));\n    Q.x += 0.25*(n.y-s.y+e.x-w.x);\n    \n    Q.yzw = b(U).yzw;\n    vec2 p = .05*U*mat2(cos(iTime),-sin(iTime),sin(iTime),cos(iTime));\n    \n    if (iFrame < 1) Q.yzw = vec3(0);\n    if ((iFrame<1&&length(U-0.5*R)<40.)||(iMouse.z>0.&&length(U-iMouse.xy)<30.)) Q.yzw=abs(vec3(sin(p.x),cos(.5*p.x),cos(p.x)));\n\t\n    \n}","name":"Buffer D","description":"","type":"buffer"}]}}